import 'dart:math';

import 'package:neurosnake/src/models/direction.dart';
import 'package:neurosnake/src/models/input_condition.dart';
import 'package:neurosnake/src/utils/calc_helper.dart';
import 'package:perceptron/perceptron.dart';

class GameService {

//  static const jsonData = '{"netConfiguration":[8,20,4],"activationFunction":"sigmoid","synapses":[{"layer":0,"origin":0,"destination":0,"weight":-4.485343793908902},{"layer":0,"origin":0,"destination":1,"weight":2.952536094979324},{"layer":0,"origin":0,"destination":2,"weight":2.9879565298135886},{"layer":0,"origin":0,"destination":3,"weight":-5.408644058248722},{"layer":0,"origin":0,"destination":4,"weight":-1.6281191488369917},{"layer":0,"origin":0,"destination":5,"weight":1.97104724407824},{"layer":0,"origin":0,"destination":6,"weight":2.8518567508992314},{"layer":0,"origin":0,"destination":7,"weight":-1.3543106643928786},{"layer":0,"origin":0,"destination":8,"weight":-4.0130460512568655},{"layer":0,"origin":0,"destination":9,"weight":-3.2944062317681917},{"layer":0,"origin":0,"destination":10,"weight":0.41077470451784515},{"layer":0,"origin":0,"destination":11,"weight":4.503471046345074},{"layer":0,"origin":0,"destination":12,"weight":0.07700219741674938},{"layer":0,"origin":0,"destination":13,"weight":-0.00015289840455026915},{"layer":0,"origin":0,"destination":14,"weight":3.372880510091433},{"layer":0,"origin":0,"destination":15,"weight":0.9911824634933565},{"layer":0,"origin":0,"destination":16,"weight":-3.3590148139425318},{"layer":0,"origin":0,"destination":17,"weight":-1.7212645354048697},{"layer":0,"origin":0,"destination":18,"weight":-5.839263204865382},{"layer":0,"origin":0,"destination":19,"weight":0.422072951810327},{"layer":0,"origin":1,"destination":0,"weight":0.11879027768801843},{"layer":0,"origin":1,"destination":1,"weight":-0.6565501024924161},{"layer":0,"origin":1,"destination":2,"weight":3.1310055842597637},{"layer":0,"origin":1,"destination":3,"weight":0.9346151515851431},{"layer":0,"origin":1,"destination":4,"weight":-1.087955307374892},{"layer":0,"origin":1,"destination":5,"weight":-0.7112200978278596},{"layer":0,"origin":1,"destination":6,"weight":3.3991251201167065},{"layer":0,"origin":1,"destination":7,"weight":-3.9909560395392645},{"layer":0,"origin":1,"destination":8,"weight":2.9133547243817297},{"layer":0,"origin":1,"destination":9,"weight":0.801155700608245},{"layer":0,"origin":1,"destination":10,"weight":0.19226938784806383},{"layer":0,"origin":1,"destination":11,"weight":-3.510293422673883},{"layer":0,"origin":1,"destination":12,"weight":1.7838068777084715},{"layer":0,"origin":1,"destination":13,"weight":-5.251460628494048},{"layer":0,"origin":1,"destination":14,"weight":-7.242506740643708},{"layer":0,"origin":1,"destination":15,"weight":0.6312608652496495},{"layer":0,"origin":1,"destination":16,"weight":-0.4636035145238386},{"layer":0,"origin":1,"destination":17,"weight":2.1085921042827067},{"layer":0,"origin":1,"destination":18,"weight":1.435987136688738},{"layer":0,"origin":1,"destination":19,"weight":1.9076531379192263},{"layer":0,"origin":2,"destination":0,"weight":1.2347953139608019},{"layer":0,"origin":2,"destination":1,"weight":-7.012202325772875},{"layer":0,"origin":2,"destination":2,"weight":-2.6275037642597208},{"layer":0,"origin":2,"destination":3,"weight":0.7112801818253498},{"layer":0,"origin":2,"destination":4,"weight":-0.7398990299445329},{"layer":0,"origin":2,"destination":5,"weight":-6.144470585953004},{"layer":0,"origin":2,"destination":6,"weight":-0.8927227293384067},{"layer":0,"origin":2,"destination":7,"weight":4.328707899133201},{"layer":0,"origin":2,"destination":8,"weight":2.989672571259279},{"layer":0,"origin":2,"destination":9,"weight":-0.15056232045463455},{"layer":0,"origin":2,"destination":10,"weight":3.2267330516110975},{"layer":0,"origin":2,"destination":11,"weight":3.6135861803181997},{"layer":0,"origin":2,"destination":12,"weight":-0.0021131340140270014},{"layer":0,"origin":2,"destination":13,"weight":0.1735142662806253},{"layer":0,"origin":2,"destination":14,"weight":0.16521960305292382},{"layer":0,"origin":2,"destination":15,"weight":0.4368704104639534},{"layer":0,"origin":2,"destination":16,"weight":-0.8234663620426412},{"layer":0,"origin":2,"destination":17,"weight":-4.342565793234604},{"layer":0,"origin":2,"destination":18,"weight":0.7841159858361371},{"layer":0,"origin":2,"destination":19,"weight":-0.19276405089393983},{"layer":0,"origin":3,"destination":0,"weight":1.0696800452893631},{"layer":0,"origin":3,"destination":1,"weight":1.1776422221776701},{"layer":0,"origin":3,"destination":2,"weight":-2.3077480704916806},{"layer":0,"origin":3,"destination":3,"weight":0.6577374279672963},{"layer":0,"origin":3,"destination":4,"weight":-0.9015468187487904},{"layer":0,"origin":3,"destination":5,"weight":2.2929076615350326},{"layer":0,"origin":3,"destination":6,"weight":-5.203280631598357},{"layer":0,"origin":3,"destination":7,"weight":0.8651864331146678},{"layer":0,"origin":3,"destination":8,"weight":-4.120840643962667},{"layer":0,"origin":3,"destination":9,"weight":0.10036808402210383},{"layer":0,"origin":3,"destination":10,"weight":-0.642531365236247},{"layer":0,"origin":3,"destination":11,"weight":-2.8714457646026115},{"layer":0,"origin":3,"destination":12,"weight":1.134596713819347},{"layer":0,"origin":3,"destination":13,"weight":-0.3112826062948148},{"layer":0,"origin":3,"destination":14,"weight":1.5608450997560224},{"layer":0,"origin":3,"destination":15,"weight":0.684315311224197},{"layer":0,"origin":3,"destination":16,"weight":5.594365664961029},{"layer":0,"origin":3,"destination":17,"weight":2.085305387527472},{"layer":0,"origin":3,"destination":18,"weight":0.634669031192547},{"layer":0,"origin":3,"destination":19,"weight":-0.414382367581261},{"layer":0,"origin":4,"destination":0,"weight":2.7059576030732435},{"layer":0,"origin":4,"destination":1,"weight":-0.2854717291622638},{"layer":0,"origin":4,"destination":2,"weight":-1.1576450170221755},{"layer":0,"origin":4,"destination":3,"weight":3.140365498945969},{"layer":0,"origin":4,"destination":4,"weight":-0.015325775395253875},{"layer":0,"origin":4,"destination":5,"weight":-0.07765658113766162},{"layer":0,"origin":4,"destination":6,"weight":-1.068322127958058},{"layer":0,"origin":4,"destination":7,"weight":-0.12605303021028605},{"layer":0,"origin":4,"destination":8,"weight":0.30203990144795523},{"layer":0,"origin":4,"destination":9,"weight":1.516992643852094},{"layer":0,"origin":4,"destination":10,"weight":2.412769426115681},{"layer":0,"origin":4,"destination":11,"weight":-1.2131036973096934},{"layer":0,"origin":4,"destination":12,"weight":0.6393958731149291},{"layer":0,"origin":4,"destination":13,"weight":-3.8274705036300554},{"layer":0,"origin":4,"destination":14,"weight":-1.0667417816241807},{"layer":0,"origin":4,"destination":15,"weight":-0.807111683167443},{"layer":0,"origin":4,"destination":16,"weight":2.7062260188292213},{"layer":0,"origin":4,"destination":17,"weight":0.2560310466939123},{"layer":0,"origin":4,"destination":18,"weight":3.0320219111441093},{"layer":0,"origin":4,"destination":19,"weight":-0.30366675617638506},{"layer":0,"origin":5,"destination":0,"weight":-1.6073126412321408},{"layer":0,"origin":5,"destination":1,"weight":0.31388593545640947},{"layer":0,"origin":5,"destination":2,"weight":-1.0523610698339128},{"layer":0,"origin":5,"destination":3,"weight":-0.9451690077530149},{"layer":0,"origin":5,"destination":4,"weight":0.7268128666919775},{"layer":0,"origin":5,"destination":5,"weight":0.268838743547537},{"layer":0,"origin":5,"destination":6,"weight":-1.277493283381693},{"layer":0,"origin":5,"destination":7,"weight":2.0891047445769075},{"layer":0,"origin":5,"destination":8,"weight":-1.068183167578108},{"layer":0,"origin":5,"destination":9,"weight":-0.06884211001234741},{"layer":0,"origin":5,"destination":10,"weight":4.411517662772787},{"layer":0,"origin":5,"destination":11,"weight":1.10385018216057},{"layer":0,"origin":5,"destination":12,"weight":-0.9675169088474481},{"layer":0,"origin":5,"destination":13,"weight":4.236954935415232},{"layer":0,"origin":5,"destination":14,"weight":2.3847310536133306},{"layer":0,"origin":5,"destination":15,"weight":-0.4848710282591305},{"layer":0,"origin":5,"destination":16,"weight":0.2882785678233868},{"layer":0,"origin":5,"destination":17,"weight":0.37451360555178553},{"layer":0,"origin":5,"destination":18,"weight":-0.9164350239220842},{"layer":0,"origin":5,"destination":19,"weight":-0.24328267766779485},{"layer":0,"origin":6,"destination":0,"weight":-1.0550909911561273},{"layer":0,"origin":6,"destination":1,"weight":5.030410112024186},{"layer":0,"origin":6,"destination":2,"weight":1.5251014791751074},{"layer":0,"origin":6,"destination":3,"weight":-1.1255438890676377},{"layer":0,"origin":6,"destination":4,"weight":-0.02481078628960195},{"layer":0,"origin":6,"destination":5,"weight":4.1041646513471886},{"layer":0,"origin":6,"destination":6,"weight":0.2542374680808919},{"layer":0,"origin":6,"destination":7,"weight":-2.274872119374178},{"layer":0,"origin":6,"destination":8,"weight":-1.0992675228111126},{"layer":0,"origin":6,"destination":9,"weight":-1.8252706811074273},{"layer":0,"origin":6,"destination":10,"weight":-3.7583183736809036},{"layer":0,"origin":6,"destination":11,"weight":-2.9411264870319127},{"layer":0,"origin":6,"destination":12,"weight":-0.05220909313819502},{"layer":0,"origin":6,"destination":13,"weight":-0.06109194895304105},{"layer":0,"origin":6,"destination":14,"weight":-0.3864538956090263},{"layer":0,"origin":6,"destination":15,"weight":0.6777603812844216},{"layer":0,"origin":6,"destination":16,"weight":0.7011482657527911},{"layer":0,"origin":6,"destination":17,"weight":2.9259233576308543},{"layer":0,"origin":6,"destination":18,"weight":-1.2513733669954563},{"layer":0,"origin":6,"destination":19,"weight":0.49137916411788624},{"layer":0,"origin":7,"destination":0,"weight":-1.4019481064381902},{"layer":0,"origin":7,"destination":1,"weight":-2.075254249438828},{"layer":0,"origin":7,"destination":2,"weight":1.7123896679138755},{"layer":0,"origin":7,"destination":3,"weight":-1.4243767169043742},{"layer":0,"origin":7,"destination":4,"weight":-1.3824004043672502},{"layer":0,"origin":7,"destination":5,"weight":-2.4596191558937024},{"layer":0,"origin":7,"destination":6,"weight":3.713122874549975},{"layer":0,"origin":7,"destination":7,"weight":-0.36153970465384716},{"layer":0,"origin":7,"destination":8,"weight":3.5791865419101048},{"layer":0,"origin":7,"destination":9,"weight":-0.7591930149697149},{"layer":0,"origin":7,"destination":10,"weight":0.05660436406421148},{"layer":0,"origin":7,"destination":11,"weight":2.1389797691998296},{"layer":0,"origin":7,"destination":12,"weight":1.3091464508129063},{"layer":0,"origin":7,"destination":13,"weight":-2.4880901944251868},{"layer":0,"origin":7,"destination":14,"weight":-2.2102693129702233},{"layer":0,"origin":7,"destination":15,"weight":0.014399805683124565},{"layer":0,"origin":7,"destination":16,"weight":-3.0369021730929946},{"layer":0,"origin":7,"destination":17,"weight":-1.9539927513513606},{"layer":0,"origin":7,"destination":18,"weight":-1.701198632448591},{"layer":0,"origin":7,"destination":19,"weight":-0.1442807538223551},{"layer":0,"origin":8,"destination":0,"weight":-0.3935075604365696},{"layer":0,"origin":8,"destination":1,"weight":-1.5598712582867853},{"layer":0,"origin":8,"destination":2,"weight":-1.5987546666472803},{"layer":0,"origin":8,"destination":3,"weight":-0.7015433685774087},{"layer":0,"origin":8,"destination":4,"weight":0.05707716167981401},{"layer":0,"origin":8,"destination":5,"weight":-0.38937270925583367},{"layer":0,"origin":8,"destination":6,"weight":-2.4042127921253362},{"layer":0,"origin":8,"destination":7,"weight":1.7324825427815354},{"layer":0,"origin":8,"destination":8,"weight":0.3552864267073956},{"layer":0,"origin":8,"destination":9,"weight":-0.2843636857592649},{"layer":0,"origin":8,"destination":10,"weight":1.857588806153876},{"layer":0,"origin":8,"destination":11,"weight":-1.2199659199983977},{"layer":0,"origin":8,"destination":12,"weight":0.4309449453427589},{"layer":0,"origin":8,"destination":13,"weight":-1.8649053772936823},{"layer":0,"origin":8,"destination":14,"weight":-1.1739719095542285},{"layer":0,"origin":8,"destination":15,"weight":-0.1816930475630597},{"layer":0,"origin":8,"destination":16,"weight":2.0276508190444735},{"layer":0,"origin":8,"destination":17,"weight":-0.27041786964272363},{"layer":0,"origin":8,"destination":18,"weight":-0.5961013022934165},{"layer":0,"origin":8,"destination":19,"weight":-0.11079974519969367},{"layer":1,"origin":0,"destination":0,"weight":3.3501896733192575},{"layer":1,"origin":0,"destination":1,"weight":-2.5745948010473803},{"layer":1,"origin":0,"destination":2,"weight":-2.090486630933043},{"layer":1,"origin":0,"destination":3,"weight":-3.9519989013537824},{"layer":1,"origin":1,"destination":0,"weight":-6.062038021085444},{"layer":1,"origin":1,"destination":1,"weight":0.8107978709924627},{"layer":1,"origin":1,"destination":2,"weight":5.456540363338897},{"layer":1,"origin":1,"destination":3,"weight":-5.724972009426236},{"layer":1,"origin":2,"destination":0,"weight":-3.7777305367743947},{"layer":1,"origin":2,"destination":1,"weight":-3.1018822641365422},{"layer":1,"origin":2,"destination":2,"weight":2.7181307930498946},{"layer":1,"origin":2,"destination":3,"weight":3.1252800578880113},{"layer":1,"origin":3,"destination":0,"weight":3.6263489355595944},{"layer":1,"origin":3,"destination":1,"weight":-4.1951429920993935},{"layer":1,"origin":3,"destination":2,"weight":-1.8962185316530704},{"layer":1,"origin":3,"destination":3,"weight":-4.307028671374976},{"layer":1,"origin":4,"destination":0,"weight":1.0244063338969063},{"layer":1,"origin":4,"destination":1,"weight":1.1902901600218694},{"layer":1,"origin":4,"destination":2,"weight":-1.136842251853663},{"layer":1,"origin":4,"destination":3,"weight":-0.9791085090925525},{"layer":1,"origin":5,"destination":0,"weight":-2.7713515606708805},{"layer":1,"origin":5,"destination":1,"weight":1.3910054965870935},{"layer":1,"origin":5,"destination":2,"weight":4.3780733095078945},{"layer":1,"origin":5,"destination":3,"weight":-6.058876115338911},{"layer":1,"origin":6,"destination":0,"weight":-4.07888725191205},{"layer":1,"origin":6,"destination":1,"weight":-5.2691466992484735},{"layer":1,"origin":6,"destination":2,"weight":2.5465531964790236},{"layer":1,"origin":6,"destination":3,"weight":4.283929995617573},{"layer":1,"origin":7,"destination":0,"weight":1.9936052945456806},{"layer":1,"origin":7,"destination":1,"weight":3.126048873699158},{"layer":1,"origin":7,"destination":2,"weight":-4.99639665642245},{"layer":1,"origin":7,"destination":3,"weight":0.2395249417713977},{"layer":1,"origin":8,"destination":0,"weight":3.0895595754321477},{"layer":1,"origin":8,"destination":1,"weight":-6.001939492181178},{"layer":1,"origin":8,"destination":2,"weight":-4.202443113103949},{"layer":1,"origin":8,"destination":3,"weight":3.224620554433365},{"layer":1,"origin":9,"destination":0,"weight":2.1527852079446537},{"layer":1,"origin":9,"destination":1,"weight":-2.3662880132341404},{"layer":1,"origin":9,"destination":2,"weight":-0.9342088590197509},{"layer":1,"origin":9,"destination":3,"weight":-1.3540971421951735},{"layer":1,"origin":10,"destination":0,"weight":0.15231172746359312},{"layer":1,"origin":10,"destination":1,"weight":4.4786141609361385},{"layer":1,"origin":10,"destination":2,"weight":-5.0994846654432955},{"layer":1,"origin":10,"destination":3,"weight":2.206611269251291},{"layer":1,"origin":11,"destination":0,"weight":-6.869412963152841},{"layer":1,"origin":11,"destination":1,"weight":3.880742155436572},{"layer":1,"origin":11,"destination":2,"weight":-3.634918290118582},{"layer":1,"origin":11,"destination":3,"weight":2.214817049273688},{"layer":1,"origin":12,"destination":0,"weight":-0.839075130149599},{"layer":1,"origin":12,"destination":1,"weight":-3.153889799533699},{"layer":1,"origin":12,"destination":2,"weight":0.3852588287082237},{"layer":1,"origin":12,"destination":3,"weight":-0.5130268076003489},{"layer":1,"origin":13,"destination":0,"weight":-5.645909505774452},{"layer":1,"origin":13,"destination":1,"weight":4.258175325045803},{"layer":1,"origin":13,"destination":2,"weight":-5.625668532334685},{"layer":1,"origin":13,"destination":3,"weight":-2.8766640847451166},{"layer":1,"origin":14,"destination":0,"weight":-4.91179178289197},{"layer":1,"origin":14,"destination":1,"weight":3.8282795025649072},{"layer":1,"origin":14,"destination":2,"weight":-5.507047731408585},{"layer":1,"origin":14,"destination":3,"weight":-5.0217412647101005},{"layer":1,"origin":15,"destination":0,"weight":-1.7474988989740334},{"layer":1,"origin":15,"destination":1,"weight":-1.3170325664974463},{"layer":1,"origin":15,"destination":2,"weight":-0.05720234676063576},{"layer":1,"origin":15,"destination":3,"weight":-1.0417787929688285},{"layer":1,"origin":16,"destination":0,"weight":4.751091489654614},{"layer":1,"origin":16,"destination":1,"weight":0.7866408899940145},{"layer":1,"origin":16,"destination":2,"weight":1.579047758937714},{"layer":1,"origin":16,"destination":3,"weight":-5.4065996639607015},{"layer":1,"origin":17,"destination":0,"weight":0.9175993373607653},{"layer":1,"origin":17,"destination":1,"weight":-4.0023083348826445},{"layer":1,"origin":17,"destination":2,"weight":2.439629640246575},{"layer":1,"origin":17,"destination":3,"weight":-4.658660169223335},{"layer":1,"origin":18,"destination":0,"weight":3.4940089450497798},{"layer":1,"origin":18,"destination":1,"weight":-5.632212811300974},{"layer":1,"origin":18,"destination":2,"weight":-2.062112643326036},{"layer":1,"origin":18,"destination":3,"weight":-3.760187905254469},{"layer":1,"origin":19,"destination":0,"weight":-0.7503091885449907},{"layer":1,"origin":19,"destination":1,"weight":-2.1992967812671496},{"layer":1,"origin":19,"destination":2,"weight":0.3349833037991231},{"layer":1,"origin":19,"destination":3,"weight":0.25226175199761586},{"layer":1,"origin":20,"destination":0,"weight":-2.056353091206312},{"layer":1,"origin":20,"destination":1,"weight":-1.782428133044675},{"layer":1,"origin":20,"destination":2,"weight":-1.6053796080058553},{"layer":1,"origin":20,"destination":3,"weight":-0.9991019508253878}]}';
//  static const jsonData = '{"netConfiguration":[8,20,4],"activationFunction":"sigmoid","synapses":[{"layer":0,"origin":0,"destination":0,"weight":-0.5234913009055844},{"layer":0,"origin":0,"destination":1,"weight":-4.091640035339244},{"layer":0,"origin":0,"destination":2,"weight":-0.7672860858034269},{"layer":0,"origin":0,"destination":3,"weight":-4.868753092234455},{"layer":0,"origin":0,"destination":4,"weight":-3.656795225887378},{"layer":0,"origin":0,"destination":5,"weight":-7.425765885343993},{"layer":0,"origin":0,"destination":6,"weight":5.7895821066370345},{"layer":0,"origin":0,"destination":7,"weight":-1.7806407731920568},{"layer":0,"origin":0,"destination":8,"weight":1.874832425777162},{"layer":0,"origin":0,"destination":9,"weight":0.1484077247994488},{"layer":0,"origin":0,"destination":10,"weight":0.6219281585609236},{"layer":0,"origin":0,"destination":11,"weight":1.718039968608474},{"layer":0,"origin":0,"destination":12,"weight":2.5931562836883466},{"layer":0,"origin":0,"destination":13,"weight":-4.004983571483189},{"layer":0,"origin":0,"destination":14,"weight":-2.2563725276806768},{"layer":0,"origin":0,"destination":15,"weight":-0.4896420243756201},{"layer":0,"origin":0,"destination":16,"weight":0.07712333242892902},{"layer":0,"origin":0,"destination":17,"weight":1.2493876941833035},{"layer":0,"origin":0,"destination":18,"weight":0.5643641924103187},{"layer":0,"origin":0,"destination":19,"weight":4.186764421574658},{"layer":0,"origin":1,"destination":0,"weight":-0.9299677821906429},{"layer":0,"origin":1,"destination":1,"weight":3.8189844520380936},{"layer":0,"origin":1,"destination":2,"weight":5.730094731479065},{"layer":0,"origin":1,"destination":3,"weight":3.445898192345609},{"layer":0,"origin":1,"destination":4,"weight":-4.18507350341538},{"layer":0,"origin":1,"destination":5,"weight":1.3351952967022833},{"layer":0,"origin":1,"destination":6,"weight":-0.026228007732369885},{"layer":0,"origin":1,"destination":7,"weight":-2.119190905152382},{"layer":0,"origin":1,"destination":8,"weight":1.3191534419576028},{"layer":0,"origin":1,"destination":9,"weight":-4.3947733787983125},{"layer":0,"origin":1,"destination":10,"weight":-0.3267577058080487},{"layer":0,"origin":1,"destination":11,"weight":1.5874283819773374},{"layer":0,"origin":1,"destination":12,"weight":-0.18295559535429787},{"layer":0,"origin":1,"destination":13,"weight":0.32683853955525194},{"layer":0,"origin":1,"destination":14,"weight":2.9598369156748126},{"layer":0,"origin":1,"destination":15,"weight":0.48738309867800783},{"layer":0,"origin":1,"destination":16,"weight":4.629224028562048},{"layer":0,"origin":1,"destination":17,"weight":0.6315220670732118},{"layer":0,"origin":1,"destination":18,"weight":1.1564960202428232},{"layer":0,"origin":1,"destination":19,"weight":-6.8344863548698696},{"layer":0,"origin":2,"destination":0,"weight":0.25761783713560066},{"layer":0,"origin":2,"destination":1,"weight":-4.2741117096415895},{"layer":0,"origin":2,"destination":2,"weight":-3.286213331936461},{"layer":0,"origin":2,"destination":3,"weight":3.7204332696941123},{"layer":0,"origin":2,"destination":4,"weight":3.233339592751799},{"layer":0,"origin":2,"destination":5,"weight":1.243001601029241},{"layer":0,"origin":2,"destination":6,"weight":-0.9985851650880139},{"layer":0,"origin":2,"destination":7,"weight":0.6275554660634859},{"layer":0,"origin":2,"destination":8,"weight":3.5585786199277067},{"layer":0,"origin":2,"destination":9,"weight":0.3026197332241863},{"layer":0,"origin":2,"destination":10,"weight":2.03893908606612},{"layer":0,"origin":2,"destination":11,"weight":-5.52059876369032},{"layer":0,"origin":2,"destination":12,"weight":0.34607593934062714},{"layer":0,"origin":2,"destination":13,"weight":0.6676007894540441},{"layer":0,"origin":2,"destination":14,"weight":3.4558232925986188},{"layer":0,"origin":2,"destination":15,"weight":1.4558271248804127},{"layer":0,"origin":2,"destination":16,"weight":-0.8593585354745998},{"layer":0,"origin":2,"destination":17,"weight":-1.5396701489394309},{"layer":0,"origin":2,"destination":18,"weight":-5.054315789019724},{"layer":0,"origin":2,"destination":19,"weight":0.3269513609951165},{"layer":0,"origin":3,"destination":0,"weight":1.048380321866709},{"layer":0,"origin":3,"destination":1,"weight":2.2501592931888243},{"layer":0,"origin":3,"destination":2,"weight":0.36088434270043085},{"layer":0,"origin":3,"destination":3,"weight":-3.098916524205196},{"layer":0,"origin":3,"destination":4,"weight":2.799479613240577},{"layer":0,"origin":3,"destination":5,"weight":1.5428482858596628},{"layer":0,"origin":3,"destination":6,"weight":-0.8531542532717193},{"layer":0,"origin":3,"destination":7,"weight":4.111737348448779},{"layer":0,"origin":3,"destination":8,"weight":-5.145067796335621},{"layer":0,"origin":3,"destination":9,"weight":-0.5622449705930971},{"layer":0,"origin":3,"destination":10,"weight":-0.8224926874000058},{"layer":0,"origin":3,"destination":11,"weight":0.4089398588009914},{"layer":0,"origin":3,"destination":12,"weight":0.7683596098905283},{"layer":0,"origin":3,"destination":13,"weight":0.7953942895274487},{"layer":0,"origin":3,"destination":14,"weight":-1.8356968196011163},{"layer":0,"origin":3,"destination":15,"weight":-3.1605583456316575},{"layer":0,"origin":3,"destination":16,"weight":-0.7441676508057562},{"layer":0,"origin":3,"destination":17,"weight":-2.2245630182456178},{"layer":0,"origin":3,"destination":18,"weight":0.4236983535067381},{"layer":0,"origin":3,"destination":19,"weight":1.0449149448084238},{"layer":0,"origin":4,"destination":0,"weight":-0.5370103397691883},{"layer":0,"origin":4,"destination":1,"weight":1.0226793186958256},{"layer":0,"origin":4,"destination":2,"weight":-0.5189495432263201},{"layer":0,"origin":4,"destination":3,"weight":0.5029401920306833},{"layer":0,"origin":4,"destination":4,"weight":1.5456849977500144},{"layer":0,"origin":4,"destination":5,"weight":3.6777421733493725},{"layer":0,"origin":4,"destination":6,"weight":-3.889278907034336},{"layer":0,"origin":4,"destination":7,"weight":1.3176436297876184},{"layer":0,"origin":4,"destination":8,"weight":-1.3465815904124971},{"layer":0,"origin":4,"destination":9,"weight":-3.0179569083804965},{"layer":0,"origin":4,"destination":10,"weight":-0.5550843199345886},{"layer":0,"origin":4,"destination":11,"weight":-0.428959859006374},{"layer":0,"origin":4,"destination":12,"weight":-0.19035785491036492},{"layer":0,"origin":4,"destination":13,"weight":2.9593194885823144},{"layer":0,"origin":4,"destination":14,"weight":-0.6444326912187893},{"layer":0,"origin":4,"destination":15,"weight":0.2537223229507307},{"layer":0,"origin":4,"destination":16,"weight":-0.03795601522699205},{"layer":0,"origin":4,"destination":17,"weight":-2.1451136821219827},{"layer":0,"origin":4,"destination":18,"weight":-1.893469682059571},{"layer":0,"origin":4,"destination":19,"weight":-2.4061679328035845},{"layer":0,"origin":5,"destination":0,"weight":0.32277139360592944},{"layer":0,"origin":5,"destination":1,"weight":-0.32110945574094624},{"layer":0,"origin":5,"destination":2,"weight":-3.2096922500761984},{"layer":0,"origin":5,"destination":3,"weight":-1.848402000861358},{"layer":0,"origin":5,"destination":4,"weight":1.3678157165821347},{"layer":0,"origin":5,"destination":5,"weight":-1.3954631187821498},{"layer":0,"origin":5,"destination":6,"weight":1.9595542350450266},{"layer":0,"origin":5,"destination":7,"weight":0.8236554877386352},{"layer":0,"origin":5,"destination":8,"weight":-1.2963290922409305},{"layer":0,"origin":5,"destination":9,"weight":3.162221365370824},{"layer":0,"origin":5,"destination":10,"weight":-0.2603767361720566},{"layer":0,"origin":5,"destination":11,"weight":-1.4087495605747615},{"layer":0,"origin":5,"destination":12,"weight":0.9076715331675518},{"layer":0,"origin":5,"destination":13,"weight":-1.28755584838518},{"layer":0,"origin":5,"destination":14,"weight":-0.2560107447180768},{"layer":0,"origin":5,"destination":15,"weight":-1.762797721255834},{"layer":0,"origin":5,"destination":16,"weight":-2.3836384429657307},{"layer":0,"origin":5,"destination":17,"weight":-3.230551743086569},{"layer":0,"origin":5,"destination":18,"weight":-3.3329922942046686},{"layer":0,"origin":5,"destination":19,"weight":2.2180837347364797},{"layer":0,"origin":6,"destination":0,"weight":-0.2251373983257613},{"layer":0,"origin":6,"destination":1,"weight":2.0436767919150594},{"layer":0,"origin":6,"destination":2,"weight":1.4662820780681325},{"layer":0,"origin":6,"destination":3,"weight":-2.5594088102424966},{"layer":0,"origin":6,"destination":4,"weight":-1.4476027525171777},{"layer":0,"origin":6,"destination":5,"weight":-1.2898992046767772},{"layer":0,"origin":6,"destination":6,"weight":0.46034556255351416},{"layer":0,"origin":6,"destination":7,"weight":-0.5305378997082172},{"layer":0,"origin":6,"destination":8,"weight":-2.4646566096699627},{"layer":0,"origin":6,"destination":9,"weight":0.09994146438929329},{"layer":0,"origin":6,"destination":10,"weight":-0.7419619993428272},{"layer":0,"origin":6,"destination":11,"weight":3.5263711608140116},{"layer":0,"origin":6,"destination":12,"weight":-0.18250839834450866},{"layer":0,"origin":6,"destination":13,"weight":-0.31057291550460003},{"layer":0,"origin":6,"destination":14,"weight":-1.6287347808364638},{"layer":0,"origin":6,"destination":15,"weight":-2.2424675448769067},{"layer":0,"origin":6,"destination":16,"weight":1.4697752839884088},{"layer":0,"origin":6,"destination":17,"weight":1.936927108631895},{"layer":0,"origin":6,"destination":18,"weight":4.674089954233483},{"layer":0,"origin":6,"destination":19,"weight":-0.848659393043926},{"layer":0,"origin":7,"destination":0,"weight":-1.065345493203358},{"layer":0,"origin":7,"destination":1,"weight":-1.8178699740840463},{"layer":0,"origin":7,"destination":2,"weight":-0.24180895793231483},{"layer":0,"origin":7,"destination":3,"weight":2.9297735812806542},{"layer":0,"origin":7,"destination":4,"weight":-1.8285431275067994},{"layer":0,"origin":7,"destination":5,"weight":-1.9086734723916325},{"layer":0,"origin":7,"destination":6,"weight":1.5295922481764277},{"layer":0,"origin":7,"destination":7,"weight":-2.7382425798474137},{"layer":0,"origin":7,"destination":8,"weight":3.5441073203156783},{"layer":0,"origin":7,"destination":9,"weight":-2.6857073370684454},{"layer":0,"origin":7,"destination":10,"weight":0.42388650854826576},{"layer":0,"origin":7,"destination":11,"weight":-1.3979042996671678},{"layer":0,"origin":7,"destination":12,"weight":-0.3830829315896965},{"layer":0,"origin":7,"destination":13,"weight":-1.0390778272296421},{"layer":0,"origin":7,"destination":14,"weight":1.7276229065608308},{"layer":0,"origin":7,"destination":15,"weight":2.4840087567887124},{"layer":0,"origin":7,"destination":16,"weight":0.6868849604307257},{"layer":0,"origin":7,"destination":17,"weight":2.054777483362659},{"layer":0,"origin":7,"destination":18,"weight":-0.5687985185841494},{"layer":0,"origin":7,"destination":19,"weight":-2.212808288806319},{"layer":0,"origin":8,"destination":0,"weight":-0.09358235839421176},{"layer":0,"origin":8,"destination":1,"weight":1.1685043655199359},{"layer":0,"origin":8,"destination":2,"weight":0.036036894440459766},{"layer":0,"origin":8,"destination":3,"weight":0.7908752990396539},{"layer":0,"origin":8,"destination":4,"weight":1.6801479252845548},{"layer":0,"origin":8,"destination":5,"weight":-0.2562940102915132},{"layer":0,"origin":8,"destination":6,"weight":0.625629479023457},{"layer":0,"origin":8,"destination":7,"weight":1.5912932707181846},{"layer":0,"origin":8,"destination":8,"weight":-3.228361698324284},{"layer":0,"origin":8,"destination":9,"weight":-1.410698438274398},{"layer":0,"origin":8,"destination":10,"weight":-0.21931814825496387},{"layer":0,"origin":8,"destination":11,"weight":-1.8867795683955721},{"layer":0,"origin":8,"destination":12,"weight":-0.9806897035588138},{"layer":0,"origin":8,"destination":13,"weight":-0.7725570428088141},{"layer":0,"origin":8,"destination":14,"weight":-1.1017989447984589},{"layer":0,"origin":8,"destination":15,"weight":-1.3152166925970123},{"layer":0,"origin":8,"destination":16,"weight":-0.2875596259564601},{"layer":0,"origin":8,"destination":17,"weight":-0.9607750404380935},{"layer":0,"origin":8,"destination":18,"weight":-2.718061852414944},{"layer":0,"origin":8,"destination":19,"weight":-0.9751975040971368},{"layer":1,"origin":0,"destination":0,"weight":-0.20572417272833599},{"layer":1,"origin":0,"destination":1,"weight":-0.2355433909175543},{"layer":1,"origin":0,"destination":2,"weight":-1.4896120907108754},{"layer":1,"origin":0,"destination":3,"weight":-1.0225878478477417},{"layer":1,"origin":1,"destination":0,"weight":2.150629855136686},{"layer":1,"origin":1,"destination":1,"weight":-4.496589104226392},{"layer":1,"origin":1,"destination":2,"weight":4.488429049817521},{"layer":1,"origin":1,"destination":3,"weight":-5.149149271642649},{"layer":1,"origin":2,"destination":0,"weight":0.6218453611024664},{"layer":1,"origin":2,"destination":1,"weight":-4.664781865943108},{"layer":1,"origin":2,"destination":2,"weight":4.165084744807353},{"layer":1,"origin":2,"destination":3,"weight":-2.0031094099733076},{"layer":1,"origin":3,"destination":0,"weight":6.0044076209121435},{"layer":1,"origin":3,"destination":1,"weight":-4.716096504120477},{"layer":1,"origin":3,"destination":2,"weight":-6.408160583146094},{"layer":1,"origin":3,"destination":3,"weight":2.8460883593414845},{"layer":1,"origin":4,"destination":0,"weight":2.93086145594717},{"layer":1,"origin":4,"destination":1,"weight":4.287810324577819},{"layer":1,"origin":4,"destination":2,"weight":-4.263034070927645},{"layer":1,"origin":4,"destination":3,"weight":-5.384923493370772},{"layer":1,"origin":5,"destination":0,"weight":4.777381989665525},{"layer":1,"origin":5,"destination":1,"weight":-7.622664110114288},{"layer":1,"origin":5,"destination":2,"weight":-4.076339361191106},{"layer":1,"origin":5,"destination":3,"weight":-5.80254402333688},{"layer":1,"origin":6,"destination":0,"weight":-5.199935049686898},{"layer":1,"origin":6,"destination":1,"weight":4.3116641970208205},{"layer":1,"origin":6,"destination":2,"weight":0.4995178772233721},{"layer":1,"origin":6,"destination":3,"weight":4.303113059050684},{"layer":1,"origin":7,"destination":0,"weight":1.3765210242123131},{"layer":1,"origin":7,"destination":1,"weight":2.5105565276803192},{"layer":1,"origin":7,"destination":2,"weight":-1.936214289535948},{"layer":1,"origin":7,"destination":3,"weight":-4.882913612814964},{"layer":1,"origin":8,"destination":0,"weight":-6.122970623658006},{"layer":1,"origin":8,"destination":1,"weight":-3.0007925581863555},{"layer":1,"origin":8,"destination":2,"weight":-4.50028657875568},{"layer":1,"origin":8,"destination":3,"weight":3.7040453658261763},{"layer":1,"origin":9,"destination":0,"weight":-3.6518364296161785},{"layer":1,"origin":9,"destination":1,"weight":3.332183745882539},{"layer":1,"origin":9,"destination":2,"weight":-4.835477003575186},{"layer":1,"origin":9,"destination":3,"weight":-1.9298964805304903},{"layer":1,"origin":10,"destination":0,"weight":-0.7389725491633619},{"layer":1,"origin":10,"destination":1,"weight":0.24852701022334311},{"layer":1,"origin":10,"destination":2,"weight":-2.186593253776026},{"layer":1,"origin":10,"destination":3,"weight":0.8870188234317404},{"layer":1,"origin":11,"destination":0,"weight":-4.930030530916347},{"layer":1,"origin":11,"destination":1,"weight":-1.5532386992314866},{"layer":1,"origin":11,"destination":2,"weight":3.6645067741505173},{"layer":1,"origin":11,"destination":3,"weight":-4.726883533348013},{"layer":1,"origin":12,"destination":0,"weight":-3.13033128026397},{"layer":1,"origin":12,"destination":1,"weight":-0.271365495976342},{"layer":1,"origin":12,"destination":2,"weight":-0.7467815461508},{"layer":1,"origin":12,"destination":3,"weight":-0.6340003600271455},{"layer":1,"origin":13,"destination":0,"weight":2.7964260558938947},{"layer":1,"origin":13,"destination":1,"weight":-2.9342902379302456},{"layer":1,"origin":13,"destination":2,"weight":-0.5741477296290192},{"layer":1,"origin":13,"destination":3,"weight":-3.5098819225100537},{"layer":1,"origin":14,"destination":0,"weight":0.6066801429388861},{"layer":1,"origin":14,"destination":1,"weight":-2.2828623585161867},{"layer":1,"origin":14,"destination":2,"weight":-3.9165608784120205},{"layer":1,"origin":14,"destination":3,"weight":3.412537962529709},{"layer":1,"origin":15,"destination":0,"weight":-2.760793736461959},{"layer":1,"origin":15,"destination":1,"weight":-2.0517117240194627},{"layer":1,"origin":15,"destination":2,"weight":-2.4430831704625184},{"layer":1,"origin":15,"destination":3,"weight":1.5653380330355688},{"layer":1,"origin":16,"destination":0,"weight":0.09893708823029242},{"layer":1,"origin":16,"destination":1,"weight":-4.072635783770461},{"layer":1,"origin":16,"destination":2,"weight":2.7489711799402228},{"layer":1,"origin":16,"destination":3,"weight":0.14742900142698567},{"layer":1,"origin":17,"destination":0,"weight":-3.2679098421717865},{"layer":1,"origin":17,"destination":1,"weight":-3.6403576269786777},{"layer":1,"origin":17,"destination":2,"weight":1.6831562868654482},{"layer":1,"origin":17,"destination":3,"weight":1.0339851160192082},{"layer":1,"origin":18,"destination":0,"weight":-4.494035846933945},{"layer":1,"origin":18,"destination":1,"weight":-2.9075767381528017},{"layer":1,"origin":18,"destination":2,"weight":4.568054516817659},{"layer":1,"origin":18,"destination":3,"weight":-6.094615332368496},{"layer":1,"origin":19,"destination":0,"weight":-5.973848481087098},{"layer":1,"origin":19,"destination":1,"weight":4.383344001754486},{"layer":1,"origin":19,"destination":2,"weight":-4.523957254503429},{"layer":1,"origin":19,"destination":3,"weight":-4.248545790906399},{"layer":1,"origin":20,"destination":0,"weight":-1.0434858224339008},{"layer":1,"origin":20,"destination":1,"weight":-0.5739530560560603},{"layer":1,"origin":20,"destination":2,"weight":-1.668214073133575},{"layer":1,"origin":20,"destination":3,"weight":-0.6942706206538022}]}';
  static const jsonData = '{"netConfiguration":[8,20,4],"activationFunction":"sigmoid","synapses":[{"layer":0,"origin":0,"destination":0,"weight":0.3086296342938065},{"layer":0,"origin":0,"destination":1,"weight":-1.794593651018217},{"layer":0,"origin":0,"destination":2,"weight":-2.9030227892476503},{"layer":0,"origin":0,"destination":3,"weight":-5.353018877655617},{"layer":0,"origin":0,"destination":4,"weight":-1.2738561942422968},{"layer":0,"origin":0,"destination":5,"weight":-0.3092897131177749},{"layer":0,"origin":0,"destination":6,"weight":-5.727826768004847},{"layer":0,"origin":0,"destination":7,"weight":4.345023441959702},{"layer":0,"origin":0,"destination":8,"weight":3.3055448980058664},{"layer":0,"origin":0,"destination":9,"weight":1.427063026587099},{"layer":0,"origin":0,"destination":10,"weight":-0.7440277478933861},{"layer":0,"origin":0,"destination":11,"weight":-0.8878657860493319},{"layer":0,"origin":0,"destination":12,"weight":-0.019767301868693465},{"layer":0,"origin":0,"destination":13,"weight":1.9750617265311692},{"layer":0,"origin":0,"destination":14,"weight":-1.851904390505215},{"layer":0,"origin":0,"destination":15,"weight":3.760058757110194},{"layer":0,"origin":0,"destination":16,"weight":-6.8903311316740705},{"layer":0,"origin":0,"destination":17,"weight":-0.44124265465225854},{"layer":0,"origin":0,"destination":18,"weight":3.123128682981099},{"layer":0,"origin":0,"destination":19,"weight":0.7115849690719526},{"layer":0,"origin":1,"destination":0,"weight":0.6675301140694003},{"layer":0,"origin":1,"destination":1,"weight":0.3822459167348465},{"layer":0,"origin":1,"destination":2,"weight":1.25756547585222},{"layer":0,"origin":1,"destination":3,"weight":0.6333561222209643},{"layer":0,"origin":1,"destination":4,"weight":0.4633705217408144},{"layer":0,"origin":1,"destination":5,"weight":-6.354709522994079},{"layer":0,"origin":1,"destination":6,"weight":-0.07366981388224055},{"layer":0,"origin":1,"destination":7,"weight":-2.353727700780191},{"layer":0,"origin":1,"destination":8,"weight":-5.692112779865901},{"layer":0,"origin":1,"destination":9,"weight":-0.5192984073251878},{"layer":0,"origin":1,"destination":10,"weight":-4.027314456628546},{"layer":0,"origin":1,"destination":11,"weight":6.016436462934809},{"layer":0,"origin":1,"destination":12,"weight":-0.28318169646774366},{"layer":0,"origin":1,"destination":13,"weight":2.7094158748229837},{"layer":0,"origin":1,"destination":14,"weight":-0.1572423251143301},{"layer":0,"origin":1,"destination":15,"weight":-3.001728335722327},{"layer":0,"origin":1,"destination":16,"weight":1.540951967631419},{"layer":0,"origin":1,"destination":17,"weight":1.6659808190225918},{"layer":0,"origin":1,"destination":18,"weight":1.7600846263525045},{"layer":0,"origin":1,"destination":19,"weight":2.28651537132216},{"layer":0,"origin":2,"destination":0,"weight":-4.261909746970635},{"layer":0,"origin":2,"destination":1,"weight":3.5573915187746454},{"layer":0,"origin":2,"destination":2,"weight":-3.814173292000908},{"layer":0,"origin":2,"destination":3,"weight":1.477428875688534},{"layer":0,"origin":2,"destination":4,"weight":6.604240137905392},{"layer":0,"origin":2,"destination":5,"weight":0.9686810936720066},{"layer":0,"origin":2,"destination":6,"weight":2.8673567638936404},{"layer":0,"origin":2,"destination":7,"weight":-2.922425851869484},{"layer":0,"origin":2,"destination":8,"weight":0.7628260653703522},{"layer":0,"origin":2,"destination":9,"weight":-1.0604963178526292},{"layer":0,"origin":2,"destination":10,"weight":-0.3332477852002744},{"layer":0,"origin":2,"destination":11,"weight":-0.717433816027856},{"layer":0,"origin":2,"destination":12,"weight":-0.469475728340426},{"layer":0,"origin":2,"destination":13,"weight":-5.538988213022477},{"layer":0,"origin":2,"destination":14,"weight":0.8562674036175476},{"layer":0,"origin":2,"destination":15,"weight":2.7950570830873147},{"layer":0,"origin":2,"destination":16,"weight":0.32603808261850054},{"layer":0,"origin":2,"destination":17,"weight":2.6767632242574595},{"layer":0,"origin":2,"destination":18,"weight":-0.5353956223273529},{"layer":0,"origin":2,"destination":19,"weight":-0.21670578005440147},{"layer":0,"origin":3,"destination":0,"weight":0.35612256875043424},{"layer":0,"origin":3,"destination":1,"weight":-0.5439248647479019},{"layer":0,"origin":3,"destination":2,"weight":2.8773231529143564},{"layer":0,"origin":3,"destination":3,"weight":1.1799178653844307},{"layer":0,"origin":3,"destination":4,"weight":-0.5761624118687623},{"layer":0,"origin":3,"destination":5,"weight":4.118428982666451},{"layer":0,"origin":3,"destination":6,"weight":1.8746301528048528},{"layer":0,"origin":3,"destination":7,"weight":3.078622688972247},{"layer":0,"origin":3,"destination":8,"weight":0.7981514929331324},{"layer":0,"origin":3,"destination":9,"weight":1.28895119802182},{"layer":0,"origin":3,"destination":10,"weight":-0.3432424419015647},{"layer":0,"origin":3,"destination":11,"weight":-1.5713703212827859},{"layer":0,"origin":3,"destination":12,"weight":0.73875309130901},{"layer":0,"origin":3,"destination":13,"weight":0.5288465624740775},{"layer":0,"origin":3,"destination":14,"weight":-0.10681433988472408},{"layer":0,"origin":3,"destination":15,"weight":-1.9686460896948343},{"layer":0,"origin":3,"destination":16,"weight":0.1980520028653742},{"layer":0,"origin":3,"destination":17,"weight":-4.81002112475627},{"layer":0,"origin":3,"destination":18,"weight":-5.098985637877985},{"layer":0,"origin":3,"destination":19,"weight":-0.7863122337479355},{"layer":0,"origin":4,"destination":0,"weight":-2.1620785138333245},{"layer":0,"origin":4,"destination":1,"weight":-0.2467365166521338},{"layer":0,"origin":4,"destination":2,"weight":1.2118357540786504},{"layer":0,"origin":4,"destination":3,"weight":2.939823279671471},{"layer":0,"origin":4,"destination":4,"weight":0.05376043581676408},{"layer":0,"origin":4,"destination":5,"weight":0.038024007868845064},{"layer":0,"origin":4,"destination":6,"weight":1.3281387635565016},{"layer":0,"origin":4,"destination":7,"weight":-0.3430009621139192},{"layer":0,"origin":4,"destination":8,"weight":-1.6090603948336155},{"layer":0,"origin":4,"destination":9,"weight":-0.8281806837501067},{"layer":0,"origin":4,"destination":10,"weight":-3.9784458915081773},{"layer":0,"origin":4,"destination":11,"weight":-0.45492690593849017},{"layer":0,"origin":4,"destination":12,"weight":0.27939020222952266},{"layer":0,"origin":4,"destination":13,"weight":-0.6441539998295852},{"layer":0,"origin":4,"destination":14,"weight":1.4842791630970376},{"layer":0,"origin":4,"destination":15,"weight":-1.0932294420878637},{"layer":0,"origin":4,"destination":16,"weight":3.9373932115816683},{"layer":0,"origin":4,"destination":17,"weight":0.06290448188102066},{"layer":0,"origin":4,"destination":18,"weight":-2.631021635333197},{"layer":0,"origin":4,"destination":19,"weight":-1.1368029233692218},{"layer":0,"origin":5,"destination":0,"weight":-3.767803742326903},{"layer":0,"origin":5,"destination":1,"weight":0.303238371505862},{"layer":0,"origin":5,"destination":2,"weight":0.544725760378346},{"layer":0,"origin":5,"destination":3,"weight":-1.0442717060466757},{"layer":0,"origin":5,"destination":4,"weight":-0.7567212007207288},{"layer":0,"origin":5,"destination":5,"weight":0.9999613013655848},{"layer":0,"origin":5,"destination":6,"weight":-0.1492349931849618},{"layer":0,"origin":5,"destination":7,"weight":1.5785625432508126},{"layer":0,"origin":5,"destination":8,"weight":2.498441960895027},{"layer":0,"origin":5,"destination":9,"weight":0.4406038064306138},{"layer":0,"origin":5,"destination":10,"weight":4.570548554911099},{"layer":0,"origin":5,"destination":11,"weight":-2.115844132303907},{"layer":0,"origin":5,"destination":12,"weight":-0.6478053751251541},{"layer":0,"origin":5,"destination":13,"weight":-1.6838928789366152},{"layer":0,"origin":5,"destination":14,"weight":-0.7745148852921376},{"layer":0,"origin":5,"destination":15,"weight":1.506788348100254},{"layer":0,"origin":5,"destination":16,"weight":-0.7523743889141637},{"layer":0,"origin":5,"destination":17,"weight":-1.4449594276107418},{"layer":0,"origin":5,"destination":18,"weight":-1.2287891754777331},{"layer":0,"origin":5,"destination":19,"weight":-0.4515329895164326},{"layer":0,"origin":6,"destination":0,"weight":4.412772199278103},{"layer":0,"origin":6,"destination":1,"weight":-1.767144667877104},{"layer":0,"origin":6,"destination":2,"weight":2.294013317612179},{"layer":0,"origin":6,"destination":3,"weight":-0.7384211694653325},{"layer":0,"origin":6,"destination":4,"weight":-3.2556798475175084},{"layer":0,"origin":6,"destination":5,"weight":-0.17638098631785654},{"layer":0,"origin":6,"destination":6,"weight":-2.5900879245573902},{"layer":0,"origin":6,"destination":7,"weight":2.130188549740711},{"layer":0,"origin":6,"destination":8,"weight":-0.9744410135522045},{"layer":0,"origin":6,"destination":9,"weight":0.6582729307135431},{"layer":0,"origin":6,"destination":10,"weight":0.34922137673690995},{"layer":0,"origin":6,"destination":11,"weight":0.9185071407773892},{"layer":0,"origin":6,"destination":12,"weight":0.10050406403028926},{"layer":0,"origin":6,"destination":13,"weight":2.443175912743589},{"layer":0,"origin":6,"destination":14,"weight":-0.22356634187191923},{"layer":0,"origin":6,"destination":15,"weight":-2.2247539187668903},{"layer":0,"origin":6,"destination":16,"weight":-1.6377832924406204},{"layer":0,"origin":6,"destination":17,"weight":-3.038589114819571},{"layer":0,"origin":6,"destination":18,"weight":0.707178150314554},{"layer":0,"origin":6,"destination":19,"weight":0.37207086160425007},{"layer":0,"origin":7,"destination":0,"weight":-0.26361534842139706},{"layer":0,"origin":7,"destination":1,"weight":0.6334715421957328},{"layer":0,"origin":7,"destination":2,"weight":-1.7297925087271697},{"layer":0,"origin":7,"destination":3,"weight":-1.4809051691061643},{"layer":0,"origin":7,"destination":4,"weight":1.7379589645788232},{"layer":0,"origin":7,"destination":5,"weight":-3.450147309166946},{"layer":0,"origin":7,"destination":6,"weight":-1.4848748072873912},{"layer":0,"origin":7,"destination":7,"weight":-2.4223697341415913},{"layer":0,"origin":7,"destination":8,"weight":-1.5090770671373908},{"layer":0,"origin":7,"destination":9,"weight":-0.8630779443716091},{"layer":0,"origin":7,"destination":10,"weight":-2.9373811545740827},{"layer":0,"origin":7,"destination":11,"weight":2.0068871274545876},{"layer":0,"origin":7,"destination":12,"weight":-0.5489416848900958},{"layer":0,"origin":7,"destination":13,"weight":-1.6978212996752104},{"layer":0,"origin":7,"destination":14,"weight":-0.7171011131696389},{"layer":0,"origin":7,"destination":15,"weight":1.289152600074084},{"layer":0,"origin":7,"destination":16,"weight":-2.396372476842991},{"layer":0,"origin":7,"destination":17,"weight":3.173665160134984},{"layer":0,"origin":7,"destination":18,"weight":3.520293496966388},{"layer":0,"origin":7,"destination":19,"weight":0.4884138462556821},{"layer":0,"origin":8,"destination":0,"weight":-2.3953980323377015},{"layer":0,"origin":8,"destination":1,"weight":0.41210688010775226},{"layer":0,"origin":8,"destination":2,"weight":1.219646031079711},{"layer":0,"origin":8,"destination":3,"weight":-0.8185296613540373},{"layer":0,"origin":8,"destination":4,"weight":0.10995974997703283},{"layer":0,"origin":8,"destination":5,"weight":1.474530990988515},{"layer":0,"origin":8,"destination":6,"weight":0.3177506294816929},{"layer":0,"origin":8,"destination":7,"weight":-1.3009351054485725},{"layer":0,"origin":8,"destination":8,"weight":-1.4907022850461749},{"layer":0,"origin":8,"destination":9,"weight":-0.6879961672362169},{"layer":0,"origin":8,"destination":10,"weight":-2.082223406707142},{"layer":0,"origin":8,"destination":11,"weight":0.1544442962189961},{"layer":0,"origin":8,"destination":12,"weight":0.5272090127021575},{"layer":0,"origin":8,"destination":13,"weight":-2.2470860459669524},{"layer":0,"origin":8,"destination":14,"weight":-0.39264385481562014},{"layer":0,"origin":8,"destination":15,"weight":-0.9472123173403726},{"layer":0,"origin":8,"destination":16,"weight":-0.4979447805319359},{"layer":0,"origin":8,"destination":17,"weight":-2.0314019896531392},{"layer":0,"origin":8,"destination":18,"weight":-2.615768219801449},{"layer":0,"origin":8,"destination":19,"weight":-0.539065238499069},{"layer":1,"origin":0,"destination":0,"weight":-3.575823157055977},{"layer":1,"origin":0,"destination":1,"weight":-4.740439655847247},{"layer":1,"origin":0,"destination":2,"weight":4.492437713532429},{"layer":1,"origin":0,"destination":3,"weight":-4.7881650185834115},{"layer":1,"origin":1,"destination":0,"weight":0.9507904666004321},{"layer":1,"origin":1,"destination":1,"weight":-0.6283495592855808},{"layer":1,"origin":1,"destination":2,"weight":-3.7164716615197495},{"layer":1,"origin":1,"destination":3,"weight":0.8479569581948664},{"layer":1,"origin":2,"destination":0,"weight":3.1084632875569405},{"layer":1,"origin":2,"destination":1,"weight":-1.969356552493158},{"layer":1,"origin":2,"destination":2,"weight":2.8493051213951253},{"layer":1,"origin":2,"destination":3,"weight":-5.198333094716532},{"layer":1,"origin":3,"destination":0,"weight":3.1234155982739624},{"layer":1,"origin":3,"destination":1,"weight":-3.718075190242844},{"layer":1,"origin":3,"destination":2,"weight":-1.600787490670228},{"layer":1,"origin":3,"destination":3,"weight":-5.260135195981625},{"layer":1,"origin":4,"destination":0,"weight":1.480680560591927},{"layer":1,"origin":4,"destination":1,"weight":0.40923123733112504},{"layer":1,"origin":4,"destination":2,"weight":-6.0873645932045015},{"layer":1,"origin":4,"destination":3,"weight":3.745099629377669},{"layer":1,"origin":5,"destination":0,"weight":1.437226812594028},{"layer":1,"origin":5,"destination":1,"weight":4.5082019319779025},{"layer":1,"origin":5,"destination":2,"weight":-5.016060858548326},{"layer":1,"origin":5,"destination":3,"weight":-5.837620984759857},{"layer":1,"origin":6,"destination":0,"weight":3.6119033567413594},{"layer":1,"origin":6,"destination":1,"weight":-3.481208221308968},{"layer":1,"origin":6,"destination":2,"weight":-3.8603516672819334},{"layer":1,"origin":6,"destination":3,"weight":-4.3283602626313025},{"layer":1,"origin":7,"destination":0,"weight":-6.089670511816647},{"layer":1,"origin":7,"destination":1,"weight":3.24103209831049},{"layer":1,"origin":7,"destination":2,"weight":3.228882801319161},{"layer":1,"origin":7,"destination":3,"weight":-2.300293917761097},{"layer":1,"origin":8,"destination":0,"weight":-5.508372735715456},{"layer":1,"origin":8,"destination":1,"weight":2.67169593914785},{"layer":1,"origin":8,"destination":2,"weight":-3.933981644431581},{"layer":1,"origin":8,"destination":3,"weight":-2.8034223477169915},{"layer":1,"origin":9,"destination":0,"weight":-2.1289831464591376},{"layer":1,"origin":9,"destination":1,"weight":-0.10957272957259948},{"layer":1,"origin":9,"destination":2,"weight":0.2782739242217101},{"layer":1,"origin":9,"destination":3,"weight":-1.424380590656447},{"layer":1,"origin":10,"destination":0,"weight":-4.404339826442595},{"layer":1,"origin":10,"destination":1,"weight":5.377101842971269},{"layer":1,"origin":10,"destination":2,"weight":-5.593161507282101},{"layer":1,"origin":10,"destination":3,"weight":-1.8019694160678703},{"layer":1,"origin":11,"destination":0,"weight":0.31344105837790737},{"layer":1,"origin":11,"destination":1,"weight":-5.0032648461018665},{"layer":1,"origin":11,"destination":2,"weight":3.7985711981406434},{"layer":1,"origin":11,"destination":3,"weight":2.2736631878411573},{"layer":1,"origin":12,"destination":0,"weight":-0.017212703668815856},{"layer":1,"origin":12,"destination":1,"weight":-0.7481802724749304},{"layer":1,"origin":12,"destination":2,"weight":-0.02127860595161544},{"layer":1,"origin":12,"destination":3,"weight":-1.8700368818664603},{"layer":1,"origin":13,"destination":0,"weight":-3.3332014841566626},{"layer":1,"origin":13,"destination":1,"weight":-4.651168848456309},{"layer":1,"origin":13,"destination":2,"weight":3.692247666950059},{"layer":1,"origin":13,"destination":3,"weight":-4.470753521127485},{"layer":1,"origin":14,"destination":0,"weight":1.4223491835977402},{"layer":1,"origin":14,"destination":1,"weight":-0.8969660058247416},{"layer":1,"origin":14,"destination":2,"weight":-0.8264217099945281},{"layer":1,"origin":14,"destination":3,"weight":-1.7057438330731256},{"layer":1,"origin":15,"destination":0,"weight":-3.9951934536166367},{"layer":1,"origin":15,"destination":1,"weight":3.414963090397139},{"layer":1,"origin":15,"destination":2,"weight":-2.8535741757356554},{"layer":1,"origin":15,"destination":3,"weight":1.8158511860686926},{"layer":1,"origin":16,"destination":0,"weight":5.424223510871573},{"layer":1,"origin":16,"destination":1,"weight":-5.949656784559256},{"layer":1,"origin":16,"destination":2,"weight":-3.256279226017402},{"layer":1,"origin":16,"destination":3,"weight":-5.731471392702735},{"layer":1,"origin":17,"destination":0,"weight":-3.5172445268132435},{"layer":1,"origin":17,"destination":1,"weight":-3.534282298131442},{"layer":1,"origin":17,"destination":2,"weight":-4.24348236760106},{"layer":1,"origin":17,"destination":3,"weight":3.8714939277818643},{"layer":1,"origin":18,"destination":0,"weight":-5.947991515664778},{"layer":1,"origin":18,"destination":1,"weight":-4.112199755956244},{"layer":1,"origin":18,"destination":2,"weight":-0.3782443714585372},{"layer":1,"origin":18,"destination":3,"weight":3.9127002771081028},{"layer":1,"origin":19,"destination":0,"weight":-1.4406375348966478},{"layer":1,"origin":19,"destination":1,"weight":-2.803805157565731},{"layer":1,"origin":19,"destination":2,"weight":-0.2104681818188783},{"layer":1,"origin":19,"destination":3,"weight":0.7200365965572356},{"layer":1,"origin":20,"destination":0,"weight":-0.9441531879642275},{"layer":1,"origin":20,"destination":1,"weight":-0.45997462217428087},{"layer":1,"origin":20,"destination":2,"weight":-0.3889616255182208},{"layer":1,"origin":20,"destination":3,"weight":-1.5901757651714423}]}';
  final perceptron = Perceptron.fromJson(jsonData, 10);

  //final perceptron = Perceptron([5, 16, 4]);

  Direction getDirection(InputCondition input) {
    final result = perceptron.process(convertInputConditionToArray(input));
    //print('${convertInputConditionToArray(input)}, $result');
    final maxValue = result.reduce(max);
    if (maxValue == result[0]) {
      return Direction.up;
    }
    if (maxValue == result[1]) {
      return Direction.right;
    }
    if (maxValue == result[2]) {
      return Direction.down;
    }
    return Direction.left;
  }

  void trainNetwork(List<InputCondition> inputs, List<Direction> outputs) {
    final data = <TrainingData>[];
    for (var i = 0; i< inputs.length; i++) {
      final inputArray = convertInputConditionToArray(inputs[i]);
      final outputArray = convertDirectionToOutputArray(outputs[i]);
      data.add(TrainingData(inputArray, outputArray));
    }
    print('Got ${data.length} records for training');
//    for (var i=0; i<20; i++) {
      perceptron.train(data);
//    }
    print('network trained');
    print(perceptron.toJson());
  }
}